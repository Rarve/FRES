
<div class="row">
    <form #form="ngForm" (ngSubmit)="submit(form.value)" class="form-group row re-search-form ">
        <div class="col-xs-1 col-lg12 nopadding">
            <input type="text" name="PriceMin" ngModel id="PriceMin" placeholder="Min" class="form-control">
        </div>
        <div class="col-xs-1 col-lg12 nopadding">
            <input type="text" name="PriceMax" ng-init="0" ngModel id="PriceMax" placeholder="Max" class="form-control">
        </div>
        <div class="col-xs-2 col-lg12 nopadding">
            <ddl-bank name="Source" ngModel id="Source" ngDefaultControl></ddl-bank>
        </div>
        <div class="col-xs-2 col-lg12 nopadding">
            <ddl-province name="Province" ngModel id="Province" ngDefaultControl></ddl-province>
        </div>
        <button type="submit" class="btn btn-info"><span class="glyphicon glyphicon-search"></span></button>
    </form>
</div>
<div class="col-xs-12 col-lg-7 re-card" *ngFor="let re of res; let i = index" [attr.data-index]="i">
    <div class="re-image-container col-lg-9 col-md-9">
        <img *ngIf="getArrayLength(re.images) == 0" src="/Images/default-thumbnail.jpg" class="re-image img-responsive" />
        <div id="carousel-{{i}}" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">
                <div class="item{{j == 0 ? ' active' : ''}}" *ngFor="let image of re.images; let j = index" [attr.data-index]="j">
                    <img src="{{image}}" class="re-image img-responsive" fallback-src="/Images/default-thumbnail.jpg">
                </div>
            </div>
            <a *ngIf="getArrayLength(re.images) > 1" class="left carousel-control" href="#carousel-{{i}}" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a *ngIf="getArrayLength(re.images) > 1" class="right carousel-control" href="#carousel-{{i}}" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
    <div class="re-card-details fill col-lg-3 col-md-3">
        <div class="row" style=" color:#585858;">
            <div class="col-xs-12">{{re.price | number}}</div>
        </div>
        <div class="row">
            <div class="col-xs-12">{{re.map.province}}</div>
        </div>
        <div class="row">
            <div class="col-xs-12" style="font-size:0.8em; color:#8c8c8c;">{{re.sizeTotal + " " + re.sizeTotalUnit}}</div>
        </div>
        <div class="row">
            <div class="col-xs-12" style="font-size:0.8em; color:#8c8c8c;">{{re.map.desc}}</div>
        </div>
        <div class="row">
            <div class="col-xs-12" style="font-size:0.8em; color:#8c8c8c;">{{re.bed}}</div>
        </div>
        <div class="row re-card-glyp">
            <div *ngIf="re.bedRoom" class="col-lg-12 col-xs-12">
                {{re.bedRoom}}
                <i class="fa fa-bed" aria-hidden="true"></i>&nbsp;
                {{re.bathRoom}}
                <i class="fa fa-bath" aria-hidden="true"></i>&nbsp;
                {{re.parkingSpace}}
                <i class="fa fa-car" aria-hidden="true"></i>
            </div>
            <div class="debug">
                <button type="button" class="btn btn-default" data-toggle="modal" [attr.data-target]="'#modal-'+ i">
                    <span data-toggle="modal" data-target="#" class="glyphicon glyphicon-zoom-in" aria-hidden="true"></span>
                </button>
            </div>
        </div>
        <div class="modal fade" id="modal-{{i}}" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="col-lg-3 col-md-12 col-xs-12"><pre style="text-align:left; font-size:0.8em;">{{re | json }}</pre></div>
                        <!--<pre [attr.pretty-json]="{{re}}"></pre>-->
                        <div class="col-lg-9 col-md-12 col-xs-12" style="height:200%;"><iframe [src]='sanitizer.bypassSecurityTrustResourceUrl(re.url)' style="width:100%; height:100%"></iframe></div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--<pre>
{{form.value | json}}
    </pre>

<pre>
{{res | json}}
    </pre>
<h4>Submitted</h4>
<pre>
{{value | json }}
    </pre>-->
